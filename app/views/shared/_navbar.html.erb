<nav class="container mx-auto px-6 py-3 flex justify-between items-center">

  <div class="text-2xl font-bold text-amber-600">Constructec</div>
  <div class="hidden md:flex space-x-4 items-center">
    <%= link_to 'Accueil', root_path, class: 'text-gray-800 hover:text-amber-600' %>
    <%= link_to 'Services', services_path, class: 'text-gray-800 hover:text-amber-600' %>
    <%= link_to 'Ã€ propos', about_path, class: 'text-gray-800 hover:text-amber-600' %>
    <%= link_to 'Blog', articles_path, class: 'text-gray-800 hover:text-amber-600' %>



  <div class="hidden md:flex space-x-4 items-center" id="navbar-menu">
    <% if user_signed_in? %>
      <div class="relative ml-3">
        <button type="button" class="flex rounded-full focus:outline-none" id="user-menu-button" aria-haspopup="true" aria-expanded="false">
          <%= image_tag "https://kitt.lewagon.com/placeholder/users/ssaunier", class: "h-8 w-8 rounded-full" %>
        </button>

        <div class="absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 hidden" id="user-menu" role="menu" aria-orientation="vertical" tabindex="-1">
          <%= link_to "Your Profile", user_path(current_user), class: "block px-4 py-2 text-sm text-gray-700", role: "menuitem", tabindex: "-1" %>
          <%= link_to "Settings", edit_user_path(current_user), class: "block px-4 py-2 text-sm text-gray-700", role: "menuitem", tabindex: "-1" %>
          <%= link_to "Sign out", destroy_user_session_path, method: :delete, class: "block px-4 py-2 text-sm text-gray-700", role: "menuitem", tabindex: "-1", data: { turbo_method: :delete } %>
        </div>
      </div>
    <% else %>
      <%= link_to "Login", new_user_session_path, class: "text-gray-800 hover:text-amber-600" %>
      <%= link_to "Sign up", new_user_registration_path, class: "ml-4 text-gray-800 hover:text-amber-600" %>
    <% end %>
  </div>
</nav>

<script>
  // Toggle dropdown menu and navbar for mobile view
  document.getElementById('navbar-toggle').addEventListener('click', () => {
    const menu = document.getElementById('navbar-menu');
    menu.classList.toggle('hidden');
  });

  // Toggle user menu dropdown
  document.getElementById('user-menu-button').addEventListener('click', () => {
    const userMenu = document.getElementById('user-menu');
    userMenu.classList.toggle('hidden');
  });
</script>
